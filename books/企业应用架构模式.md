# 企业应用架构模式
## 第一章
- 持久化数据
- 大量数据
- 同时访问数据
- 大量操作数据的用户界面
- 与散布在企业周围的其他企业应用集成
### 性能
- 响应时间：完成一次外部请求的时间
- 响应性：系统响应请求的速度。进度条
- 等待时间：获得系统任何形式响应的最小时间
- 吞吐率：给定时间内能够处理多大的请求量
- 负载：当前有多少用户与系统相连
- 负载敏感度：响应时间随负载变化的程度
- 效率：性能除以资源
- 容量：最大有效负载或吞吐率的指标，一个绝对最大值或性能衰减至低于一个可接受的阙值之前的临界点
- 可伸缩性：向系统增加资源对系统性能的影响。垂直可伸缩指提高单个服务器的性能，水平可伸缩指增加服务器数量

## 第二章
### 1.分层
- 上层使用了下层定义的各种服务，而下层对上层一无所知
- 领域层和数据源层绝对不要依赖于表现层

### 2. 组织领域逻辑

## 第三章 映射到关系型数据库
1. 将处理SQL的类独立出来，并且让这些类以数据库中的表结构为基础，一个数据表对应一个类。这是对数据库的入口
2. 有2种入口的组织方法，一是为查询语句返回的每一行产生一个它的实例，这种行数据入口就像用面向对象的方法来看待数据。还有一个是表数据入口，对数据库中的每个表仅仅需要一个对象来管理，提供查询数据库的方法，返回一个记录集。
3. **数据映射器**还有一个更好的方法，是把领域模型和数据库完全独立，可以让间接层完成领域对象和数据库表之间的映射。
4. **工作单元**， 当要保证对读取的数据库数据是独占状态时，应该使用工作单元。工作单元会跟踪所有从数据库中读取的对象以及所有以任何形式修改过的对象，它同样负责将更新提交到数据库。工作单元会排列好对数据库的操作顺序。
5. **延迟加载**，为了避免在读取一个数据时将相关的大量数据一起读取出来，可以利用延迟加载，其主要思想是拥有被修改对象引用，它指向的是一个占位符。当且仅当想要通过链接访问时，才会真的去读取实际的对象。
6. **查找器**，创建独立的查找器对象，每个查找器类都有很多封装了SQL语句的方法，当执行查询操作的时候，查找器对象返回一个适当的基于行的对象集合。
7. 查找器尽量一次读回多行，最好不要为了得到多行而在同一个表上重复查询。
8. 利用联接避免多次进入数据库，数据库必须优化到一次查询中处理3-4个联接，如果超出性能会受损。
